# ðŸ“‹ Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù†Ø´Ø± Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ© - WinSCP

## ðŸŽ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ù‡Ø°Ø§ Ø¯Ù„ÙŠÙ„ ØªÙØµÙŠÙ„ÙŠ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ© Ù„Ù†Ø´Ø± TideSight Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… WinSCP.

---

## ðŸ“ Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¥Ø¹Ø¯Ø§Ø¯ WinSCP

### 1.1 ÙØªØ­ WinSCP

1. Ø´ØºÙ‘Ù„ Ø¨Ø±Ù†Ø§Ù…Ø¬ **WinSCP**
2. Ø¥Ø°Ø§ Ø¸Ù‡Ø±Øª Ù†Ø§ÙØ°Ø© LoginØŒ Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ **New Site**

### 1.2 Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„

Ø§Ù…Ù„Ø£ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©:

| Ø§Ù„Ø­Ù‚Ù„ | Ø§Ù„Ù‚ÙŠÙ…Ø© |
|-------|--------|
| **File protocol** | `SFTP` |
| **Host name** | `72.60.187.58` |
| **Port number** | `22` |
| **User name** | `root` |
| **Password** | `[ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ø®Ø§Ø¯Ù…]` |

### 1.3 Ø­ÙØ¸ Ø§Ù„Ø§ØªØµØ§Ù„

1. Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ **Save** (Ø£Ùˆ `Ctrl+S`)
2. Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…: `TideSight Server`
3. Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ **OK**

### 1.4 Ø§Ù„Ø§ØªØµØ§Ù„

1. Ø§Ø®ØªØ± Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ù…Ø­ÙÙˆØ¸ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
2. Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ **Login**
3. Ø¥Ø°Ø§ Ø¸Ù‡Ø±Øª Ø±Ø³Ø§Ù„Ø© Ø¹Ù† SSH keyØŒ Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ **Yes** Ø£Ùˆ **Accept**

---

## ðŸ“ Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù…

### 2.1 Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ /opt

ÙÙŠ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø®Ø§Ø¯Ù… (Ø§Ù„ÙŠÙ…ÙŠÙ†):

1. Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
2. Ø§ÙƒØªØ¨: `/opt`
3. Ø§Ø¶ØºØ· `Enter`

### 2.2 Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù„Ø¯ tidesight

1. Ø§Ù†Ù‚Ø± Ø¨Ø§Ù„Ø²Ø± Ø§Ù„Ø£ÙŠÙ…Ù† ÙÙŠ Ù…Ù†Ø·Ù‚Ø© ÙØ§Ø±ØºØ©
2. **New** â†’ **Directory**
3. Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù…: `tidesight`
4. Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ **OK**

### 2.3 ÙØªØ­ Ø§Ù„Ù…Ø¬Ù„Ø¯

Ø§Ù†Ù‚Ø± Ù†Ù‚Ø±Ø§Ù‹ Ù…Ø²Ø¯ÙˆØ¬Ø§Ù‹ Ø¹Ù„Ù‰ Ù…Ø¬Ù„Ø¯ `tidesight` Ù„Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„ÙŠÙ‡.

---

## ðŸ“¤ Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª

### 3.1 Ø§Ù„ØªØ­Ø¶ÙŠØ±

ÙÙŠ Ù†Ø§ÙØ°Ø© Ø¬Ù‡Ø§Ø²Ùƒ (Ø§Ù„ÙŠØ³Ø§Ø±):

1. Ø§Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰: `d:\AquaERP`
2. ØªØ£ÙƒØ¯ Ù…Ù† Ø±Ø¤ÙŠØ© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª

### 3.2 Ø±ÙØ¹ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª

**Ø§Ø³Ø­Ø¨ ÙˆØ£ÙÙ„Øª Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ù…Ù† Ø§Ù„ÙŠØ³Ø§Ø± Ø¥Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ†:**

```
âœ… tenants/
âœ… frontend/          (Ø¨Ø¯ÙˆÙ† node_modules/)
âœ… api/
âœ… accounts/
âœ… accounting/
âœ… audit/
âœ… biological/
âœ… daily_operations/
âœ… inventory/
âœ… sales/
âœ… nginx/
```

### 3.3 Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª

**Ø§Ø³Ø­Ø¨ ÙˆØ£ÙÙ„Øª Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù„ÙØ§Øª:**

```
âœ… docker-compose.prod.yml
âœ… Dockerfile
âœ… deploy.sh
âœ… manage.py
âœ… requirements.txt
âœ… env.prod.template
```

### 3.4 Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø±ÙØ¹

- Ø§Ù†ØªØ¸Ø± Ø­ØªÙ‰ ÙŠÙƒØªÙ…Ù„ Ø±ÙØ¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª
- Ù‚Ø¯ ÙŠØ³ØªØºØ±Ù‚ ÙˆÙ‚ØªØ§Ù‹ Ø­Ø³Ø¨ Ø­Ø¬Ù… Ø§Ù„Ù…Ù„ÙØ§Øª
- Ø±Ø§Ù‚Ø¨ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… ÙÙŠ Ø£Ø³ÙÙ„ Ø§Ù„Ù†Ø§ÙØ°Ø©

---

## ðŸ’» Ø§Ù„Ø®Ø·ÙˆØ© 4: ÙØªØ­ Terminal

### 4.1 ÙØªØ­ Terminal ÙÙŠ WinSCP

**Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 1:**
1. **Commands** â†’ **Open Terminal**

**Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 2:**
- Ø§Ø¶ØºØ· `Ctrl+P`

### 4.2 Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹

ÙÙŠ TerminalØŒ Ù†ÙÙ‘Ø°:

```bash
pwd
```

ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¸Ù‡Ø±: `/root` Ø£Ùˆ `/home/root`

---

## ðŸ”§ Ø§Ù„Ø®Ø·ÙˆØ© 5: Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ¦Ø©

### 5.1 Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```bash
cd /opt/tidesight
ls -la
```

ÙŠØ¬Ø¨ Ø£Ù† ØªØ±Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙŠ Ø±ÙØ¹ØªÙ‡Ø§.

### 5.2 Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù .env.prod

```bash
cat > .env.prod << 'EOF'
SECRET_KEY=your-super-secret-key-minimum-50-characters-long-change-this-in-production
DEBUG=False
ALLOWED_HOSTS=tidesight.cloud,www.tidesight.cloud,*.tidesight.cloud
POSTGRES_DB=tidesight_db
POSTGRES_USER=tidesight_admin
POSTGRES_PASSWORD=your-strong-database-password-here
REDIS_PASSWORD=your-strong-redis-password-here
CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@redis:6379/0
CELERY_RESULT_BACKEND=redis://:${REDIS_PASSWORD}@redis:6379/0
ENVIRONMENT=production
EOF
```

**Ø£Ùˆ Ù„ØªÙˆÙ„ÙŠØ¯ ÙƒÙ„Ù…Ø§Øª Ù…Ø±ÙˆØ± Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©:**

```bash
cat > .env.prod << EOF
SECRET_KEY=$(python3 -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())')
DEBUG=False
ALLOWED_HOSTS=tidesight.cloud,www.tidesight.cloud,*.tidesight.cloud
POSTGRES_DB=tidesight_db
POSTGRES_USER=tidesight_admin
POSTGRES_PASSWORD=$(openssl rand -base64 32)
REDIS_PASSWORD=$(openssl rand -base64 32)
CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@redis:6379/0
CELERY_RESULT_BACKEND=redis://:${REDIS_PASSWORD}@redis:6379/0
ENVIRONMENT=production
EOF
```

### 5.3 Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ù„Ù

```bash
cat .env.prod
```

---

## ðŸ³ Ø§Ù„Ø®Ø·ÙˆØ© 6: ØªØ«Ø¨ÙŠØª Docker

### 6.1 ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
apt-get update
```

### 6.2 ØªØ«Ø¨ÙŠØª Docker

```bash
apt-get install -y docker.io docker-compose
```

### 6.3 ØªØ´ØºÙŠÙ„ Docker

```bash
systemctl start docker
systemctl enable docker
```

### 6.4 Ø§Ù„ØªØ­Ù‚Ù‚

```bash
docker --version
docker-compose --version
```

---

## ðŸš€ Ø§Ù„Ø®Ø·ÙˆØ© 7: ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚

### 7.1 Ø¬Ø¹Ù„ Script Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªÙ†ÙÙŠØ°

```bash
chmod +x deploy.sh
```

### 7.2 ØªØ´ØºÙŠÙ„ Script Ø§Ù„Ù†Ø´Ø±

```bash
./deploy.sh
```

**Ø£Ùˆ Ø§Ù„Ù†Ø´Ø± Ø§Ù„ÙŠØ¯ÙˆÙŠ:**

```bash
# Ø¨Ù†Ø§Ø¡ Ø§Ù„ØµÙˆØ±
docker-compose -f docker-compose.prod.yml build

# ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª
docker-compose -f docker-compose.prod.yml up -d

# Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹
sleep 10

# Migrations
docker-compose -f docker-compose.prod.yml exec web python manage.py migrate_schemas --shared
docker-compose -f docker-compose.prod.yml exec web python manage.py collectstatic --noinput
```

---

## ðŸ”’ Ø§Ù„Ø®Ø·ÙˆØ© 8: Ø¥Ø¹Ø¯Ø§Ø¯ SSL

### 8.1 ØªØ«Ø¨ÙŠØª Certbot

```bash
apt-get install -y certbot python3-certbot-nginx
```

### 8.2 Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ SSL Certificate

```bash
certbot --nginx -d tidesight.cloud -d www.tidesight.cloud --non-interactive --agree-tos --email admin@tidesight.cloud
```

---

## ðŸ‘¤ Ø§Ù„Ø®Ø·ÙˆØ© 9: Ø¥Ù†Ø´Ø§Ø¡ Superuser

```bash
docker-compose -f docker-compose.prod.yml exec web python manage.py createsuperuser
```

Ø£Ø¯Ø®Ù„:
- **Username:** `admin`
- **Email:** `admin@tidesight.cloud`
- **Password:** `[ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©]`

---

## âœ… Ø§Ù„Ø®Ø·ÙˆØ© 10: Ø§Ù„ØªØ­Ù‚Ù‚

### 10.1 Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø®Ø¯Ù…Ø§Øª

```bash
docker-compose -f docker-compose.prod.yml ps
```

### 10.2 Ø¹Ø±Ø¶ Logs

```bash
docker-compose -f docker-compose.prod.yml logs -f
```

Ø§Ø¶ØºØ· `Ctrl+C` Ù„Ù„Ø®Ø±ÙˆØ¬.

### 10.3 Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹

Ø§ÙØªØ­ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­:
- âœ… `https://tidesight.cloud`
- âœ… `https://tidesight.cloud/admin/`

---

## ðŸŽ‰ ØªÙ… Ø§Ù„Ù†Ø´Ø± Ø¨Ù†Ø¬Ø§Ø­!

---

## ðŸ”§ Ø£ÙˆØ§Ù…Ø± Ù…ÙÙŠØ¯Ø©

### Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª

```bash
docker-compose -f docker-compose.prod.yml ps
```

### Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª

```bash
docker-compose -f docker-compose.prod.yml restart
```

### Ø¹Ø±Ø¶ Logs

```bash
docker-compose -f docker-compose.prod.yml logs -f web
```

### ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙƒÙˆØ¯

```bash
# ÙÙŠ WinSCP: Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
# Ø«Ù… ÙÙŠ Terminal:
docker-compose -f docker-compose.prod.yml build
docker-compose -f docker-compose.prod.yml up -d
```

---

**ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡:** 2025-12-12
